import{ah as $,ad as q,al as L,am as x,a2 as z,an as B,ao as O,ap as M,Y as P,aa as T,a4 as U,aq as j,ar as G}from"./template.Db4iTBdM.js";import{a as K}from"./render.BJWVDL0r.js";const W=()=>performance.now(),d={tick:r=>requestAnimationFrame(r),now:()=>W(),tasks:new Set};function R(){const r=d.now();d.tasks.forEach(t=>{t.c(r)||(d.tasks.delete(t),t.f())}),d.tasks.size!==0&&d.tick(R)}function Y(r){let t;return d.tasks.size===0&&d.tick(R),{promise:new Promise(a=>{d.tasks.add(t={c:r,f:a})}),abort(){d.tasks.delete(t)}}}function E(r,t){O(()=>{r.dispatchEvent(new CustomEvent(t))})}function D(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function I(r){const t={},a=r.split(";");for(const i of a){const[o,n]=i.split(":");if(!o||n===void 0)break;const s=D(o.trim());t[s]=n.trim()}return t}const H=r=>r;function Z(r,t,a,i){var o=(r&j)!==0,n=(r&G)!==0,s=o&&n,p=(r&B)!==0,w=s?"both":o?"in":"out",u,v=t.inert,y=t.style.overflow,f,_;function m(){return O(()=>u??=a()(t,i?.()??{},{direction:w}))}var e={is_global:p,in(){if(t.inert=v,!o){_?.abort(),_?.reset?.();return}n||f?.abort(),E(t,"introstart"),f=A(t,m(),_,1,()=>{E(t,"introend"),f?.abort(),f=u=void 0,t.style.overflow=y})},out(k){if(!n){k?.(),u=void 0;return}t.inert=!0,E(t,"outrostart"),_=A(t,m(),f,0,()=>{E(t,"outroend"),k?.()})},stop:()=>{f?.abort(),_?.abort()}},l=$;if((l.transitions??=[]).push(e),o&&K){var h=p;if(!h){for(var c=l.parent;c&&(c.f&q)!==0;)for(;(c=c.parent)&&(c.f&L)===0;);h=!c||(c.f&x)!==0}h&&z(()=>{U(()=>e.in())})}}function A(r,t,a,i,o){var n=i===1;if(M(t)){var s,p=!1;return P(()=>{if(!p){var l=t({direction:n?"in":"out"});s=A(r,l,a,i,o)}}),{abort:()=>{p=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(a?.deactivate(),!t?.duration)return o(),{abort:T,deactivate:T,reset:T,t:()=>i};const{delay:w=0,css:u,tick:v,easing:y=H}=t;var f=[];if(n&&a===void 0&&(v&&v(0,1),u)){var _=I(u(0,1));f.push(_,_)}var m=()=>1-i,e=r.animate(f,{duration:w,fill:"forwards"});return e.onfinish=()=>{e.cancel();var l=a?.t()??1-i;a?.abort();var h=i-l,c=t.duration*Math.abs(h),k=[];if(c>0){var C=!1;if(u)for(var F=Math.ceil(c/16.666666666666668),N=0;N<=F;N+=1){var S=l+h*y(N/F),g=I(u(S,1-S));k.push(g),C||=g.overflow==="hidden"}C&&(r.style.overflow="hidden"),m=()=>{var b=e.currentTime;return l+h*y(b/c)},v&&Y(()=>{if(e.playState!=="running")return!1;var b=m();return v(b,1-b),!0})}e=r.animate(k,{duration:c,fill:"forwards"}),e.onfinish=()=>{m=()=>i,v?.(i,1-i),o()}},{abort:()=>{e&&(e.cancel(),e.effect=null,e.onfinish=T)},deactivate:()=>{o=T},reset:()=>{i===0&&v?.(1,0)},t:()=>m()}}const J=r=>r;function Q(r){const t=r-1;return t*t*t+1}function tt(r,{delay:t=0,duration:a=400,easing:i=J}={}){const o=+getComputedStyle(r).opacity;return{delay:t,duration:a,easing:i,css:n=>`opacity: ${n*o}`}}function rt(r,{delay:t=0,duration:a=400,easing:i=Q,start:o=0,opacity:n=0}={}){const s=getComputedStyle(r),p=+s.opacity,w=s.transform==="none"?"":s.transform,u=1-o,v=p*(1-n);return{delay:t,duration:a,easing:i,css:(y,f)=>`
			transform: ${w} scale(${1-u*f});
			opacity: ${p-v*f}
		`}}export{tt as f,rt as s,Z as t};
